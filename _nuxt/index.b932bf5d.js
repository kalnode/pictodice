import{a as v,o as d,b as m,r as I,f as x,e as r,h as u,t as p,i as h,j as f,p as B,k as b,l as w,m as k,q as _,w as C,s as G}from"./entry.9b8ac29f.js";import{_ as T}from"./app.config.50a17796.js";const j={};function E(t,n){return d(),m("span",null,[I(t.$slots,"default")])}const V=v(j,[["render",E]]);const g={name:"Dice",props:{},components:{},data(){return{useBGmap:!1,currentInteraction:null,sensors:{gyro:!1,orientation:!1},DiceState:{face:6,spinning:!1,accelerometer:[.3,.25],hasRolled:!1},faceViews:[[0,0,0],[90,0,0],[0,90,0],[0,-90,0],[-90,0,0],[-180,0,0]],dummyImages:["dummy-400x400-BodyLanguage.jpg","dummy-400x400-CharlesBaudelaire.jpg","dummy-400x400-Eye.jpg","dummy-400x400-HappyBoy.jpg","dummy-400x400-Headphone.jpg","dummy-400x400-TShirt.jpg"],mouseTouchCoords:[0,0]}},mounted(){document.addEventListener("keydown",s=>{this.handleKeyDown(s)}),document.addEventListener("mousemove",s=>{let i=(window.innerWidth/2-s.pageX)/-5,e=(window.innerHeight/2-s.pageY)/5;this.mouseTouchCoords=[i,e]}),document.addEventListener("touchmove",s=>{let i=typeof s.originalEvent>"u"?s:s.originalEvent,e=i.touches[0]||i.changedTouches[0],o=e.pageX,c=e.pageY;this.mouseTouchCoords=[o,c],this.currentInteraction="touch"});try{var t=null,n=null;Promise.all([navigator.permissions.query({name:"accelerometer"}),navigator.permissions.query({name:"gyroscope"})]).then(s=>{s.every(i=>i.state==="granted")?(console.log("Permissions granted %O",s),t=new window.RelativeOrientationSensor({frequency:60,referenceFrame:"screen"}),this.sensors.orientation=!0,t.addEventListener("reading",()=>{console.log("orientationSensor reading"),this.DiceState.spinning||(this.currentInteraction="sensor",this.DiceState.accelerometer=t.quaternion.map((i,e)=>{if(e<2)return Math.round(i*1e3*1e3)/(1e3*1e3)}))}),t.start(),n=new Gyroscope({frequency:60}),this.sensors.gyro=!0,n.addEventListener("reading",()=>{console.log("gyroscope reading"),(n.x>9||n.z>4)&&!this.DiceState.spinning&&this.random()}),n.start()):console.log("No permissions to use RelativeOrientationSensor.")})}catch(s){console.log("try catch error on sensor reading: %O",s),window.addEventListener("deviceorientation",i=>{if(console.log("legacy deviceorientation reading"),!this.DiceState.spinning){const e=i.beta/180,o=i.gamma/90;this.DiceState.accelerometer=[e,o]}})}},methods:{handleKeyDown(t){console.log("func handleKeyDown %O",t),t.code==="Space"&&this.random()},handleClick(){console.log("func handleClick()"),this.random()},random(){console.log("func random()"),this.roll(Math.floor(Math.random()*6+1))},roll(t){console.log("func roll(), face: %O",t),this.DiceState.face=t,this.DiceState.spinning=!0,this.DiceState.hasRolled=!0,setTimeout(()=>{this.DiceState.spinning=!1},2e3)},getRandom(t,n){return(Math.floor(Math.random()*(t-n))+n)*90}},computed:{diceBG_BorderRadius(){return this.DiceState.spinning?"50%":"10px"},diceBG_Shadow(){return this.DiceState.spinning?"blur(80px)":"blur(20px)"},diceBG_transform(){return"translateZ("+(this.DiceState.spinning?"-50":"0")+"px) translate3d( 0, 0, 0)"},cubeTransformSpinning(){const[t,n,s]=this.faceViews[this.DiceState.face-1];return"rotateX("+t+"deg) rotateY("+n+"deg) rotateZ("+s+"deg) translate3d( 0, 0, 0)"},cubeTransformPerspective(){const[t,n,s]=this.faceViews[this.DiceState.face-1],[i,e]=this.currentInteraction=="sensor"?this.DiceState.accelerometer:this.mouseTouchCoords;let o=.009,c=0,a=0,l=0;if(this.DiceState.face===1?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(a=t+o*(i*40),c=n+o*(e*40),l=s):this.currentInteraction=="sensor"&&(c=t+i*40,a=n+-e*40,l=s):this.DiceState.face===2?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(a=t+o*(i*40),c=n,l=s+o*(e*40)):this.currentInteraction=="sensor"&&(c=t+i*40,a=n,l=s+e*40):this.DiceState.face===3?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(c=n+o*(e*40),a=s,l=t+o*(-i*40)):this.currentInteraction=="sensor"&&(c=t+i*40,a=n+-e*40,l=s):this.DiceState.face===4?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(c=n+o*(e*40),a=s,l=t+o*(i*40)):this.currentInteraction=="sensor"&&(c=t+i*40,a=n+-e*40,l=s):this.DiceState.face===5?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(c=n,a=t+o*(i*40),l=s+o*(-e*40)):this.currentInteraction=="sensor"&&(c=t+i*40,a=n,l=s+o*(-e*40)):this.DiceState.face===6&&(this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(c=n+o*(e*40),a=t+o*(i*40),l=s):this.currentInteraction=="sensor"&&(c=t+i*40,a=n+e*40,l=s)),this.currentInteraction=="mouse"||this.currentInteraction=="sensor")return"rotateX("+c+"deg) rotateY("+a+"deg) rotateZ("+l+"deg) translate3d( 0, 0, 0)";if(this.currentInteraction=="touch")return"rotateX("+-c+"deg) rotateY("+-a+"deg) rotateZ("+l+"deg) translate3d( 0, 0, 0)"}}},y=()=>{x(t=>({"8e94cfde":t.diceBG_Shadow,"15eb620f":t.diceBG_BorderRadius,"112bfafb":t.diceBG_transform,"2f4fd72b":t.cubeTransformSpinning,"1e7dbae7":t.cubeTransformPerspective}))},S=g.setup;g.setup=S?(t,n)=>(y(),S(t,n)):y;const R=g,D=t=>(B("data-v-896ae8f3"),t=t(),b(),t),F=D(()=>r("h1",null,"Shake your phone!",-1)),L=D(()=>r("p",null,"Or touch the dice",-1)),q=[F,L],z={class:"my-8 overflow-hidden"},M={key:0,class:"front filler"},N={key:1,class:"back filler"},X={key:2,class:"top filler"},Y={key:3,class:"bottom filler"},A={key:4,class:"left filler"},O={key:5,class:"right filler"};function P(t,n,s,i,e,o){return d(),m("div",{onClick:n[0]||(n[0]=c=>o.handleClick()),class:"w-full h-full flex flex-col justify-center items-center"},[r("div",{class:u([e.DiceState.hasRolled?"":"enabled","helper"])},q,2),r("div",z,[r("div",null,"Dice face: "+p(e.DiceState.face),1),r("div",null,"Dice spinning: "+p(e.DiceState.spinning),1),r("div",null,"Use bg map: "+p(e.useBGmap),1),r("div",null,"currentInteraction: "+p(e.currentInteraction),1),r("div",null,"sensors: "+p(e.sensors),1)]),r("div",{class:u(["dice",{useBGmap:e.useBGmap}])},[r("div",{class:u([e.DiceState.spinning?"spin":"perspective","cube"])},[r("div",{class:u([e.DiceState.face===1||e.DiceState.spinning?"lightFacing":"","front"]),style:h(e.useBGmap?"":"background-image: url(images/"+e.dummyImages[1-1]+")")},null,6),e.useBGmap?(d(),m("div",M)):f("",!0),r("div",{class:u([e.DiceState.face===6||e.DiceState.spinning?"lightFacing":"","back"]),style:h(e.useBGmap?"":"background-image: url(images/"+e.dummyImages[6-1]+")")},null,6),e.useBGmap?(d(),m("div",N)):f("",!0),r("div",{class:u([e.DiceState.face===5||e.DiceState.spinning?"lightFacing":"","top"]),style:h(e.useBGmap?"":"background-image: url(images/"+e.dummyImages[5-1]+")")},null,6),e.useBGmap?(d(),m("div",X)):f("",!0),r("div",{class:u([e.DiceState.face===2||e.DiceState.spinning?"lightFacing":"","bottom"]),style:h(e.useBGmap?"":"background-image: url(images/"+e.dummyImages[2-1]+")")},null,6),e.useBGmap?(d(),m("div",Y)):f("",!0),r("div",{class:u([e.DiceState.face===3||e.DiceState.spinning?"lightFacing":"","left"]),style:h(e.useBGmap?"":"background-image: url(images/"+e.dummyImages[3-1]+")")},null,6),e.useBGmap?(d(),m("div",A)):f("",!0),r("div",{class:u([e.DiceState.face===4||e.DiceState.spinning?"lightFacing":"","right"]),style:h(e.useBGmap?"":"background-image: url(images/"+e.dummyImages[4-1]+")")},null,6),e.useBGmap?(d(),m("div",O)):f("",!0)],2)],2)])}const Z=v(R,[["render",P],["__scopeId","data-v-896ae8f3"]]);function H(){const t=w();return t._appConfig||(t._appConfig=k(T)),t._appConfig}const K={class:"w-full h-full flex flex-col justify-center items-center"},W=r("h1",{class:"text-3xl font-bold underline"},"Welcome to the homepage",-1),Q={__name:"index",setup(t){return H(),(n,s)=>{const i=V,e=Z;return d(),m("div",K,[W,_(i,null,{default:C(()=>[G(" This is an auto-imported component. ")]),_:1}),_(e)])}}};export{Q as default};
