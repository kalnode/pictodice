import{a as Y,o as S,b as L,r as le,_ as $,f as de,e as x,t as ue,h as R,F as fe,i as me,j as he,k as pe,l as ge,m as W,w as ye,p as ve}from"./entry.7716ab84.js";import{_ as we}from"./app.config.b6f2a21f.js";const be={};function _e(e,t){return S(),L("span",null,[le(e.$slots,"default")])}const Pe=Y(be,[["render",_e]]);/*! Capacitor: https://capacitorjs.com/ - MIT License */const xe=e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},i=(o,a)=>{n.platforms.set(o,a)},r=o=>{n.platforms.has(o)&&(n.currentPlatform=n.platforms.get(o))};return n.addPlatform=i,n.setPlatform=r,n},Ce=e=>e.CapacitorPlatforms=xe(e),Z=Ce(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});Z.addPlatform;Z.setPlatform;var C;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(C||(C={}));class A extends Error{constructor(t,n,i){super(t),this.message=t,this.code=n,this.data=i}}const Se=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Le=e=>{var t,n,i,r,o;const a=e.CapacitorCustomPlatform||null,s=e.Capacitor||{},c=s.Plugins=s.Plugins||{},l=e.CapacitorPlatforms,D=()=>a!==null?a.name:Se(e),b=((t=l==null?void 0:l.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||D,k=()=>b()!=="web",N=((n=l==null?void 0:l.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||k,Q=d=>{const u=j.get(d);return!!(u!=null&&u.platforms.has(b())||q(d))},ee=((i=l==null?void 0:l.currentPlatform)===null||i===void 0?void 0:i.isPluginAvailable)||Q,te=d=>{var u;return(u=s.PluginHeaders)===null||u===void 0?void 0:u.find(_=>_.name===d)},q=((r=l==null?void 0:l.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||te,ne=d=>e.console.error(d),re=(d,u,_)=>Promise.reject(`${_} does not have an implementation of "${u}".`),j=new Map,oe=(d,u={})=>{const _=j.get(d);if(_)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),_.proxy;const w=b(),P=q(d);let g;const se=async()=>(!g&&w in u?g=typeof u[w]=="function"?g=await u[w]():g=u[w]:a!==null&&!g&&"web"in u&&(g=typeof u.web=="function"?g=await u.web():g=u.web),g),ae=(f,m)=>{var p,y;if(P){const v=P==null?void 0:P.methods.find(h=>m===h.name);if(v)return v.rtype==="promise"?h=>s.nativePromise(d,m.toString(),h):(h,E)=>s.nativeCallback(d,m.toString(),h,E);if(f)return(p=f[m])===null||p===void 0?void 0:p.bind(f)}else{if(f)return(y=f[m])===null||y===void 0?void 0:y.bind(f);throw new A(`"${d}" plugin is not implemented on ${w}`,C.Unimplemented)}},M=f=>{let m;const p=(...y)=>{const v=se().then(h=>{const E=ae(h,f);if(E){const O=E(...y);return m=O==null?void 0:O.remove,O}else throw new A(`"${d}.${f}()" is not implemented on ${w}`,C.Unimplemented)});return f==="addListener"&&(v.remove=async()=>m()),v};return p.toString=()=>`${f.toString()}() { [capacitor code] }`,Object.defineProperty(p,"name",{value:f,writable:!1,configurable:!1}),p},G=M("addListener"),H=M("removeListener"),ce=(f,m)=>{const p=G({eventName:f},m),y=async()=>{const h=await p;H({eventName:f,callbackId:h},m)},v=new Promise(h=>p.then(()=>h({remove:y})));return v.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await y()},v},T=new Proxy({},{get(f,m){switch(m){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return P?ce:G;case"removeListener":return H;default:return M(m)}}});return c[d]=T,j.set(d,{name:d,proxy:T,platforms:new Set([...Object.keys(u),...P?[w]:[]])}),T},ie=((o=l==null?void 0:l.currentPlatform)===null||o===void 0?void 0:o.registerPlugin)||oe;return s.convertFileSrc||(s.convertFileSrc=d=>d),s.getPlatform=b,s.handleError=ne,s.isNativePlatform=N,s.isPluginAvailable=ee,s.pluginMethodNoop=re,s.registerPlugin=ie,s.Exception=A,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},De=e=>e.Capacitor=Le(e),I=De(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),B=I.registerPlugin;I.Plugins;class J{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n);const r=this.windowListeners[t];r&&!r.registered&&this.addWindowListener(r);const o=async()=>this.removeListener(t,n),a=Promise.resolve({remove:o});return Object.defineProperty(a,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await o()}}),a}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n){const i=this.listeners[t];i&&i.forEach(r=>r(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(t="not implemented"){return new I.Exception(t,C.Unimplemented)}unavailable(t="not available"){return new I.Exception(t,C.Unavailable)}async removeListener(t,n){const i=this.listeners[t];if(!i)return;const r=i.indexOf(n);this.listeners[t].splice(r,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const F=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),V=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Ee extends J{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(i=>{if(i.length<=0)return;let[r,o]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=V(r).trim(),o=V(o).trim(),n[r]=o}),n}async setCookie(t){try{const n=F(t.key),i=F(t.value),r=`; expires=${(t.expires||"").replace("expires=","")}`,o=(t.path||"/").replace("path=",""),a=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${i||""}${r}; path=${o}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}B("CapacitorCookies",{web:()=>new Ee});const Oe=async e=>new Promise((t,n)=>{const i=new FileReader;i.onload=()=>{const r=i.result;t(r.indexOf(",")>=0?r.split(",")[1]:r)},i.onerror=r=>n(r),i.readAsDataURL(e)}),Ie=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(r=>r.toLocaleLowerCase()).reduce((r,o,a)=>(r[o]=e[t[a]],r),{})},ke=(e,t=!0)=>e?Object.entries(e).reduce((i,r)=>{const[o,a]=r;let s,c;return Array.isArray(a)?(c="",a.forEach(l=>{s=t?encodeURIComponent(l):l,c+=`${o}=${s}&`}),c.slice(0,-1)):(s=t?encodeURIComponent(a):a,c=`${o}=${s}`),`${i}&${c}`},"").substr(1):null,je=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),r=Ie(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(r.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[a,s]of Object.entries(e.data||{}))o.set(a,s);n.body=o.toString()}else if(r.includes("multipart/form-data")){const o=new FormData;if(e.data instanceof FormData)e.data.forEach((s,c)=>{o.append(c,s)});else for(const s of Object.keys(e.data))o.append(s,e.data[s]);n.body=o;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(r.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class Me extends J{async request(t){const n=je(t,t.webFetchExtra),i=ke(t.params,t.shouldEncodeUrlParams),r=i?`${t.url}?${i}`:t.url,o=await fetch(r,n),a=o.headers.get("content-type")||"";let{responseType:s="text"}=o.ok?t:{};a.includes("application/json")&&(s="json");let c,l;switch(s){case"arraybuffer":case"blob":l=await o.blob(),c=await Oe(l);break;case"json":c=await o.json();break;case"document":case"text":default:c=await o.text()}const D={};return o.headers.forEach((b,k)=>{D[k]=b}),{data:c,headers:D,status:o.status,url:o.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}B("CapacitorHttp",{web:()=>new Me});const z=B("Motion",{android:()=>$(()=>import("./web.ecbddc36.js"),["./web.ecbddc36.js","./entry.7716ab84.js","./entry.befcbaf9.css","./app.config.b6f2a21f.js"],import.meta.url).then(e=>new e.MotionWeb),ios:()=>$(()=>import("./web.ecbddc36.js"),["./web.ecbddc36.js","./entry.7716ab84.js","./entry.befcbaf9.css","./app.config.b6f2a21f.js"],import.meta.url).then(e=>new e.MotionWeb),web:()=>$(()=>import("./web.ecbddc36.js"),["./web.ecbddc36.js","./entry.7716ab84.js","./entry.befcbaf9.css","./app.config.b6f2a21f.js"],import.meta.url).then(e=>new e.MotionWeb)});const U={name:"Dice",props:{},components:{},data(){return{useBGmap:!1,currentInteraction:null,sensors:{permission:!1,gyro:!1,orientation:!1,gyrocoords:{tilt:null,turn:null,rotate:null}},DiceState:{face:6,spinning:!1,accelerometer:[.3,.25],hasRolled:!1},Die:{faces:{front:{orientation:[0,0,0],image:null},back:{orientation:[90,0,0],image:null},top:{orientation:[0,90,0],image:null},bottom:{orientation:[0,-90,0],image:null},left:{orientation:[-90,0,0],image:null},right:{orientation:[-180,0,0],image:null}}},faceViews:[[0,0,0],[90,0,0],[0,90,0],[0,-90,0],[-90,0,0],[-180,0,0]],dummyImages:["dummy-400x400-BodyLanguage.jpg","dummy-400x400-CharlesBaudelaire.jpg","dummy-400x400-Eye.jpg","dummy-400x400-HappyBoy.jpg","dummy-400x400-Headphone.jpg","dummy-400x400-TShirt.jpg"],mouseTouchCoords:[0,0],accelHandler:null,orientationHandle:null,motionEventOutput:null}},mounted(){document.addEventListener("keydown",e=>{this.handleKeyDown(e)}),document.addEventListener("mousemove",e=>{let t=(window.innerWidth/2-e.pageX)/-5,n=(window.innerHeight/2-e.pageY)/5;this.mouseTouchCoords=[t,n],this.currentInteraction="mouse"}),document.addEventListener("touchmove",e=>{let t=typeof e.originalEvent>"u"?e:e.originalEvent,n=t.touches[0]||t.changedTouches[0],i=n.pageX,r=n.pageY;this.mouseTouchCoords=[i,r],this.currentInteraction="touch"}),this.reqPermissionMotion()},methods:{setMotionListeners(){if(window.RelativeOrientationSensor){const e=new window.RelativeOrientationSensor({frequency:60,referenceFrame:"screen"});this.sensors.orientation=!0,e.addEventListener("reading",()=>{console.log("orientationSensor reading"),this.DiceState.spinning||(this.currentInteraction="sensor",this.DiceState.accelerometer=e.quaternion.map((t,n)=>{if(n<2)return Math.round(t*1e3*1e3)/(1e3*1e3)}))}),e.start()}else window.addEventListener("deviceorientation",e=>{console.log("legacy deviceorientation reading"),this.currentInteraction="sensor";let t=e.beta;e.alpha;let n=e.gamma;if(!this.DiceState.spinning){const i=t/180,r=n/90;this.DiceState.accelerometer=[i,r]}});if(window.Gyroscope){const e=new Gyroscope({frequency:60});this.sensors.gyro=!0,e.addEventListener("reading",()=>{console.log("gyroscope reading"),this.sensors.gyrocoords.x=e.x,this.sensors.gyrocoords.y=e.z,(e.x>9||e.z>4)&&!this.DiceState.spinning&&this.random()}),e.start()}},handleKeyDown(e){console.log("func handleKeyDown %O",e),e.code==="Space"&&this.random()},handleClick(){console.log("func handleClick()"),this.random()},random(){console.log("func random()"),this.roll(Math.floor(Math.random()*6+1))},roll(e){console.log("func roll(), face: %O",e),this.DiceState.face=e,this.DiceState.spinning=!0,this.DiceState.hasRolled=!0,setTimeout(()=>{this.DiceState.spinning=!1},2e3)},getRandom(e,t){return(Math.floor(Math.random()*(e-t))+t)*90},reqPermissionMotionOld(){typeof DeviceOrientationEvent.requestPermission=="function"&&DeviceOrientationEvent.requestPermission().then(e=>{e==="granted"?(this.sensors.permission=!0,this.setMotionListeners()):this.sensors.permission="noooo"}).catch(e=>{console.log("Error getting sensor permission: %O",e)})},async reqPermissionMotion(){typeof DeviceOrientationEvent.requestPermission=="function"&&await DeviceOrientationEvent.requestPermission().then(e=>{}).catch(e=>{console.log("Error getting sensor permission: %O",e)}),this.sensors.permission=!0,this.orientationHandle=await z.addListener("orientation",e=>{if(console.log("Device motion event: %O",e),this.motionEventOutput={x:e.alpha.toFixed(2),y:e.beta.toFixed(2),z:e.gamma.toFixed(2)},this.currentInteraction="sensor",!this.DiceState.spinning){let t=e.beta;e.alpha;let n=e.gamma;if(!this.DiceState.spinning){const i=t/180,r=n/90;this.DiceState.accelerometer=[i,r]}}}),this.accelHandler=await z.addListener("accel",e=>{console.log("Device motion event: %O",e),this.motionEventOutput={x:e.rotationRate.alpha.toFixed(2),y:e.rotationRate.beta.toFixed(2),z:e.rotationRate.gamma.toFixed(2)},this.currentInteraction="sensor",this.DiceState.spinning,(e.rotationRate.alpha>256||e.rotationRate.beta>256||e.rotationRate.gamma>256)&&!this.DiceState.spinning&&this.random()})}},computed:{diceBG_BorderRadius(){return this.DiceState.spinning?"50%":"10px"},diceBG_Shadow(){return this.DiceState.spinning?"blur(80px)":"blur(20px)"},diceBG_transform(){return"translateZ("+(this.DiceState.spinning?"-50":"0")+"px) translate3d( 0, 0, 0)"},cubeTransformSpinning(){const[e,t,n]=this.faceViews[this.DiceState.face-1];return"rotateX("+e+"deg) rotateY("+t+"deg) rotateZ("+n+"deg) translate3d( 0, 0, 0)"},cubeTransformPerspective(){const[e,t,n]=this.faceViews[this.DiceState.face-1],[i,r]=this.currentInteraction=="sensor"?this.DiceState.accelerometer:this.mouseTouchCoords;let o=.002,a=0,s=0,c=0;if(this.DiceState.face===1?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(s=e+o*(i*40),a=t+o*(r*40),c=n):this.currentInteraction=="sensor"&&(a=e+i*40,s=t+-r*40,c=n):this.DiceState.face===2?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(s=e+o*(i*40),a=t,c=n+o*(r*40)):this.currentInteraction=="sensor"&&(a=e+i*40,s=t,c=n+r*40):this.DiceState.face===3?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(a=t+o*(r*40),s=n,c=e+o*(-i*40)):this.currentInteraction=="sensor"&&(a=e+i*40,s=t+-r*40,c=n):this.DiceState.face===4?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(a=t+o*(r*40),s=n,c=e+o*(i*40)):this.currentInteraction=="sensor"&&(a=e+i*40,s=t+-r*40,c=n):this.DiceState.face===5?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(a=t,s=e+o*(i*40),c=n+o*(-r*40)):this.currentInteraction=="sensor"&&(a=e+i*40,s=t,c=n+o*(-r*40)):this.DiceState.face===6&&(this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(a=t+o*(r*40),s=e+o*(i*40),c=n):this.currentInteraction=="sensor"&&(a=e+i*40,s=t+r*40,c=n)),this.currentInteraction=="mouse"||this.currentInteraction=="sensor")return"rotateX("+a+"deg) rotateY("+s+"deg) rotateZ("+c+"deg) translate3d( 0, 0, 0)";if(this.currentInteraction=="touch")return"rotateX("+-a+"deg) rotateY("+-s+"deg) rotateZ("+c+"deg) translate3d( 0, 0, 0)"}}},K=()=>{de(e=>({"423ec76f":e.diceBG_Shadow,"461f12ed":e.diceBG_BorderRadius,"448b26dd":e.diceBG_transform,"3428366e":e.cubeTransformPerspective}))},X=U.setup;U.setup=X?(e,t)=>(K(),X(e,t)):K;const Te=U,$e={class:"w-full h-full flex flex-col justify-center items-center"},Re={class:"w-full my-8 overflow-hidden"};function Ae(e,t,n,i,r,o){return S(),L("div",$e,[x("div",Re,[x("div",{onClick:t[0]||(t[0]=(...a)=>o.reqPermissionMotion&&o.reqPermissionMotion(...a)),class:"p-2 bg-gray-200 cursor-pointer"},"Sensor Permission"),x("div",null,ue(r.motionEventOutput),1)]),x("div",{onClick:t[1]||(t[1]=a=>o.handleClick()),class:R(["dice cursor-pointer",[r.DiceState.spinning?"spin":"perspective",{useBGmap:r.useBGmap}]])},[x("div",{class:R([r.DiceState.spinning?"spin":"perspective","cube"])},[(S(!0),L(fe,null,me(r.Die.faces,(a,s,c)=>(S(),L("div",{key:"face-"+c,class:R([s,r.DiceState.face===c+1||r.DiceState.spinning?"lightFacing":""]),style:he(r.useBGmap?"":"background-image: url(images/"+r.dummyImages[c]+")")},null,6))),128))],2)],2)])}const Be=Y(Te,[["render",Ae],["__scopeId","data-v-8951f7ee"]]);function Ue(){const e=pe();return e._appConfig||(e._appConfig=ge(we)),e._appConfig}const qe={class:"w-full h-full flex flex-col justify-center items-center"},Ge=x("h1",{class:"text-3xl font-bold underline"},"Welcome to the homepage",-1),He={__name:"index",setup(e){return Ue(),(t,n)=>{const i=Pe,r=Be;return S(),L("div",qe,[Ge,W(i,null,{default:ye(()=>[ve(" This is an auto-imported component. ")]),_:1}),W(r)])}}},Ve=Object.freeze(Object.defineProperty({__proto__:null,default:He},Symbol.toStringTag,{value:"Module"}));export{J as W,Ve as i};
