import{a as y,o as d,b as h,r as v,f as D,e as l,t as u,h as f,F as S,i as x,j as I,k as w,l as B,m as p,w as C,p as b}from"./entry.81186aa5.js";import{_ as E}from"./app.config.aff7bcf3.js";const G={};function T(e,t){return d(),h("span",null,[v(e.$slots,"default")])}const k=y(G,[["render",T]]);const m={name:"Dice",props:{},components:{},data(){return{useBGmap:!1,currentInteraction:null,sensors:{gyro:!1,orientation:!1},DiceState:{face:6,spinning:!1,accelerometer:[.3,.25],hasRolled:!1},Die:{faces:{front:{orientation:[0,0,0],image:null},back:{orientation:[90,0,0],image:null},top:{orientation:[0,90,0],image:null},bottom:{orientation:[0,-90,0],image:null},left:{orientation:[-90,0,0],image:null},right:{orientation:[-180,0,0],image:null}}},faceViews:[[0,0,0],[90,0,0],[0,90,0],[0,-90,0],[-90,0,0],[-180,0,0]],dummyImages:["dummy-400x400-BodyLanguage.jpg","dummy-400x400-CharlesBaudelaire.jpg","dummy-400x400-Eye.jpg","dummy-400x400-HappyBoy.jpg","dummy-400x400-Headphone.jpg","dummy-400x400-TShirt.jpg"],mouseTouchCoords:[0,0]}},mounted(){document.addEventListener("keydown",e=>{this.handleKeyDown(e)}),document.addEventListener("mousemove",e=>{let t=(window.innerWidth/2-e.pageX)/-5,i=(window.innerHeight/2-e.pageY)/5;this.mouseTouchCoords=[t,i],this.currentInteraction="mouse"}),document.addEventListener("touchmove",e=>{let t=typeof e.originalEvent>"u"?e:e.originalEvent,i=t.touches[0]||t.changedTouches[0],s=i.pageX,n=i.pageY;this.mouseTouchCoords=[s,n],this.currentInteraction="touch"}),typeof DeviceOrientationEvent.requestPermission=="function"?this.reqPermissionMotion():this.setMotionListeners()},methods:{setMotionListeners(){if(window.RelativeOrientationSensor){const e=new window.RelativeOrientationSensor({frequency:60,referenceFrame:"screen"});this.sensors.orientation=!0,e.addEventListener("reading",()=>{console.log("orientationSensor reading"),this.DiceState.spinning||(this.currentInteraction="sensor",this.DiceState.accelerometer=e.quaternion.map((t,i)=>{if(i<2)return Math.round(t*1e3*1e3)/(1e3*1e3)}))}),e.start()}try{if(window.Gyroscope){const e=new Gyroscope({frequency:60});this.sensors.gyro=!0,e.addEventListener("reading",()=>{console.log("gyroscope reading"),(e.x>9||e.z>4)&&!this.DiceState.spinning&&this.random()}),e.start()}}catch(e){console.log("try catch error on gyro sensor setup: %O",e),window.addEventListener("deviceorientation",t=>{if(console.log("legacy deviceorientation reading"),!this.DiceState.spinning){const i=t.beta/180,s=t.gamma/90;this.DiceState.accelerometer=[i,s]}})}},handleKeyDown(e){console.log("func handleKeyDown %O",e),e.code==="Space"&&this.random()},handleClick(){console.log("func handleClick()"),this.random()},random(){console.log("func random()"),this.roll(Math.floor(Math.random()*6+1))},roll(e){console.log("func roll(), face: %O",e),this.DiceState.face=e,this.DiceState.spinning=!0,this.DiceState.hasRolled=!0,setTimeout(()=>{this.DiceState.spinning=!1},2e3)},getRandom(e,t){return(Math.floor(Math.random()*(e-t))+t)*90},reqPermissionMotion(){typeof DeviceOrientationEvent.requestPermission=="function"&&DeviceOrientationEvent.requestPermission().then(e=>{e==="granted"&&(console.log("accelerometer permission granted"),this.setMotionListeners())}).catch(e=>{console.log("Error getting sensor permission: %O",e)})}},computed:{diceBG_BorderRadius(){return this.DiceState.spinning?"50%":"10px"},diceBG_Shadow(){return this.DiceState.spinning?"blur(80px)":"blur(20px)"},diceBG_transform(){return"translateZ("+(this.DiceState.spinning?"-50":"0")+"px) translate3d( 0, 0, 0)"},cubeTransformSpinning(){const[e,t,i]=this.faceViews[this.DiceState.face-1];return"rotateX("+e+"deg) rotateY("+t+"deg) rotateZ("+i+"deg) translate3d( 0, 0, 0)"},cubeTransformPerspective(){const[e,t,i]=this.faceViews[this.DiceState.face-1],[s,n]=this.currentInteraction=="sensor"?this.DiceState.accelerometer:this.mouseTouchCoords;let a=.009,r=0,c=0,o=0;if(this.DiceState.face===1?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(c=e+a*(s*40),r=t+a*(n*40),o=i):this.currentInteraction=="sensor"&&(r=e+s*40,c=t+-n*40,o=i):this.DiceState.face===2?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(c=e+a*(s*40),r=t,o=i+a*(n*40)):this.currentInteraction=="sensor"&&(r=e+s*40,c=t,o=i+n*40):this.DiceState.face===3?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(r=t+a*(n*40),c=i,o=e+a*(-s*40)):this.currentInteraction=="sensor"&&(r=e+s*40,c=t+-n*40,o=i):this.DiceState.face===4?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(r=t+a*(n*40),c=i,o=e+a*(s*40)):this.currentInteraction=="sensor"&&(r=e+s*40,c=t+-n*40,o=i):this.DiceState.face===5?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(r=t,c=e+a*(s*40),o=i+a*(-n*40)):this.currentInteraction=="sensor"&&(r=e+s*40,c=t,o=i+a*(-n*40)):this.DiceState.face===6&&(this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(r=t+a*(n*40),c=e+a*(s*40),o=i):this.currentInteraction=="sensor"&&(r=e+s*40,c=t+n*40,o=i)),this.currentInteraction=="mouse"||this.currentInteraction=="sensor")return"rotateX("+r+"deg) rotateY("+c+"deg) rotateZ("+o+"deg) translate3d( 0, 0, 0)";if(this.currentInteraction=="touch")return"rotateX("+-r+"deg) rotateY("+-c+"deg) rotateZ("+o+"deg) translate3d( 0, 0, 0)"}}},g=()=>{D(e=>({"5e494758":e.diceBG_Shadow,"4820afdc":e.diceBG_BorderRadius,"241e2bd8":e.diceBG_transform,19588278:e.cubeTransformPerspective}))},_=m.setup;m.setup=_?(e,t)=>(g(),_(e,t)):g;const L=m,M={class:"w-full h-full flex flex-col justify-center items-center"},j={class:"my-8 overflow-hidden"};function O(e,t,i,s,n,a){return d(),h("div",M,[l("div",j,[l("div",null,"Dice face: "+u(n.DiceState.face),1),l("div",null,"Dice spinning: "+u(n.DiceState.spinning),1),l("div",null,"Use bg map: "+u(n.useBGmap),1),l("div",null,"currentInteraction: "+u(n.currentInteraction),1),l("div",null,"sensors: "+u(n.sensors),1)]),l("div",{onClick:t[0]||(t[0]=r=>a.handleClick()),class:f(["dice cursor-pointer",[n.DiceState.spinning?"spin":"perspective",{useBGmap:n.useBGmap}]])},[l("div",{class:f([n.DiceState.spinning?"spin":"perspective","cube"])},[(d(!0),h(S,null,x(n.Die.faces,(r,c,o)=>(d(),h("div",{key:"face-"+o,class:f([c,n.DiceState.face===o+1||n.DiceState.spinning?"lightFacing":""]),style:I(n.useBGmap?"":"background-image: url(images/"+n.dummyImages[o]+")")},null,6))),128))],2)],2)])}const q=y(L,[["render",O],["__scopeId","data-v-f76b3a86"]]);function V(){const e=w();return e._appConfig||(e._appConfig=B(E)),e._appConfig}const P={class:"w-full h-full flex flex-col justify-center items-center"},R=l("h1",{class:"text-3xl font-bold underline"},"Welcome to the homepage",-1),Y={__name:"index",setup(e){return V(),(t,i)=>{const s=k,n=q;return d(),h("div",P,[R,p(s,null,{default:C(()=>[b(" This is an auto-imported component. ")]),_:1}),p(n)])}}};export{Y as default};
