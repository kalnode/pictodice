import{_ as U,e as de,o as E,a as L,b as g,f as q,t as b,F as ue,r as fe,h as G,i as me,j as he}from"./entry.f7de2476.js";import{_ as Z}from"./_plugin-vue_export-helper.c27b6911.js";/*! Capacitor: https://capacitorjs.com/ - MIT License */const ge=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},o=(i,a)=>{n.platforms.set(i,a)},r=i=>{n.platforms.has(i)&&(n.currentPlatform=n.platforms.get(i))};return n.addPlatform=o,n.setPlatform=r,n},pe=t=>t.CapacitorPlatforms=ge(t),J=pe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});J.addPlatform;J.setPlatform;var x;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(x||(x={}));class B extends Error{constructor(e,n,o){super(e),this.message=e,this.code=n,this.data=o}}const ve=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},we=t=>{var e,n,o,r,i;const a=t.CapacitorCustomPlatform||null,s=t.Capacitor||{},l=s.Plugins=s.Plugins||{},c=t.CapacitorPlatforms,C=()=>a!==null?a.name:ve(t),_=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||C,j=()=>_()!=="web",Q=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||j,ee=d=>{const u=T.get(d);return!!(u!=null&&u.platforms.has(_())||H(d))},te=((o=c==null?void 0:c.currentPlatform)===null||o===void 0?void 0:o.isPluginAvailable)||ee,ne=d=>{var u;return(u=s.PluginHeaders)===null||u===void 0?void 0:u.find(S=>S.name===d)},H=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||ne,re=d=>t.console.error(d),ie=(d,u,S)=>Promise.reject(`${S} does not have an implementation of "${u}".`),T=new Map,se=(d,u={})=>{const S=T.get(d);if(S)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),S.proxy;const P=_(),D=H(d);let v;const ae=async()=>(!v&&P in u?v=typeof u[P]=="function"?v=await u[P]():v=u[P]:a!==null&&!v&&"web"in u&&(v=typeof u.web=="function"?v=await u.web():v=u.web),v),ce=(f,m)=>{var p,w;if(D){const y=D==null?void 0:D.methods.find(h=>m===h.name);if(y)return y.rtype==="promise"?h=>s.nativePromise(d,m.toString(),h):(h,I)=>s.nativeCallback(d,m.toString(),h,I);if(f)return(p=f[m])===null||p===void 0?void 0:p.bind(f)}else{if(f)return(w=f[m])===null||w===void 0?void 0:w.bind(f);throw new B(`"${d}" plugin is not implemented on ${P}`,x.Unimplemented)}},R=f=>{let m;const p=(...w)=>{const y=ae().then(h=>{const I=ce(h,f);if(I){const O=I(...w);return m=O==null?void 0:O.remove,O}else throw new B(`"${d}.${f}()" is not implemented on ${P}`,x.Unimplemented)});return f==="addListener"&&(y.remove=async()=>m()),y};return p.toString=()=>`${f.toString()}() { [capacitor code] }`,Object.defineProperty(p,"name",{value:f,writable:!1,configurable:!1}),p},$=R("addListener"),W=R("removeListener"),le=(f,m)=>{const p=$({eventName:f},m),w=async()=>{const h=await p;W({eventName:f,callbackId:h},m)},y=new Promise(h=>p.then(()=>h({remove:w})));return y.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await w()},y},M=new Proxy({},{get(f,m){switch(m){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return D?le:$;case"removeListener":return W;default:return R(m)}}});return l[d]=M,T.set(d,{name:d,proxy:M,platforms:new Set([...Object.keys(u),...D?[P]:[]])}),M},oe=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||se;return s.convertFileSrc||(s.convertFileSrc=d=>d),s.getPlatform=_,s.handleError=re,s.isNativePlatform=Q,s.isPluginAvailable=te,s.pluginMethodNoop=ie,s.registerPlugin=oe,s.Exception=B,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},ye=t=>t.Capacitor=we(t),k=ye(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),A=k.registerPlugin;k.Plugins;class N{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);const i=async()=>this.removeListener(e,n),a=Promise.resolve({remove:i});return Object.defineProperty(a,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await i()}}),a}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n){const o=this.listeners[e];o&&o.forEach(r=>r(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:o=>{this.notifyListeners(n,o)}}}unimplemented(e="not implemented"){return new k.Exception(e,x.Unimplemented)}unavailable(e="not available"){return new k.Exception(e,x.Unavailable)}async removeListener(e,n){const o=this.listeners[e];if(!o)return;const r=o.indexOf(n);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const V=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),z=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class be extends N{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(o=>{if(o.length<=0)return;let[r,i]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=z(r).trim(),i=z(i).trim(),n[r]=i}),n}async setCookie(e){try{const n=V(e.key),o=V(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${o||""}${r}; path=${i}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}A("CapacitorCookies",{web:()=>new be});const Pe=async t=>new Promise((e,n)=>{const o=new FileReader;o.onload=()=>{const r=o.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},o.onerror=r=>n(r),o.readAsDataURL(t)}),_e=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,i,a)=>(r[i]=t[e[a]],r),{})},Se=(t,e=!0)=>t?Object.entries(t).reduce((o,r)=>{const[i,a]=r;let s,l;return Array.isArray(a)?(l="",a.forEach(c=>{s=e?encodeURIComponent(c):c,l+=`${i}=${s}&`}),l.slice(0,-1)):(s=e?encodeURIComponent(a):a,l=`${i}=${s}`),`${o}&${l}`},"").substr(1):null,De=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),r=_e(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,s]of Object.entries(t.data||{}))i.set(a,s);n.body=i.toString()}else if(r.includes("multipart/form-data")){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((s,l)=>{i.append(l,s)});else for(const s of Object.keys(t.data))i.append(s,t.data[s]);n.body=i;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(r.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class Ee extends N{async request(e){const n=De(e,e.webFetchExtra),o=Se(e.params,e.shouldEncodeUrlParams),r=o?`${e.url}?${o}`:e.url,i=await fetch(r,n),a=i.headers.get("content-type")||"";let{responseType:s="text"}=i.ok?e:{};a.includes("application/json")&&(s="json");let l,c;switch(s){case"arraybuffer":case"blob":c=await i.blob(),l=await Pe(c);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const C={};return i.headers.forEach((_,j)=>{C[j]=_}),{data:l,headers:C,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}A("CapacitorHttp",{web:()=>new Ee});const K=A("Motion",{android:()=>U(()=>import("./web.89436735.js"),["./web.89436735.js","./entry.f7de2476.js","./entry.e7e6aa88.css","./_plugin-vue_export-helper.c27b6911.js"],import.meta.url).then(t=>new t.MotionWeb),ios:()=>U(()=>import("./web.89436735.js"),["./web.89436735.js","./entry.f7de2476.js","./entry.e7e6aa88.css","./_plugin-vue_export-helper.c27b6911.js"],import.meta.url).then(t=>new t.MotionWeb),web:()=>U(()=>import("./web.89436735.js"),["./web.89436735.js","./entry.f7de2476.js","./entry.e7e6aa88.css","./_plugin-vue_export-helper.c27b6911.js"],import.meta.url).then(t=>new t.MotionWeb)});const F={name:"Dice",props:{},components:{},data(){return{showDevTools:!1,showSensorPermissionExperience:!1,useBGmap:!1,DiceState:{face:1,spinning:!1,accelerometer:[0,0],hasRolled:!1},Die:{faces:[{name:"front",orientation:[0,0,0],image:null},{name:"back",orientation:[90,0,0],image:null},{name:"top",orientation:[0,90,0],image:null},{name:"bottom",orientation:[0,-90,0],image:null},{name:"left",orientation:[-90,0,0],image:null},{name:"right",orientation:[-180,0,0],image:null}]},dummyImages:["dummy-400x400-BodyLanguage.jpg","dummy-400x400-CharlesBaudelaire.jpg","dummy-400x400-Eye.jpg","dummy-400x400-HappyBoy.jpg","dummy-400x400-Headphone.jpg","dummy-400x400-TShirt.jpg"],faceViews:[[0,0,0],[90,0,0],[0,90,0],[0,-90,0],[-90,0,0],[-180,0,0]],accelerationHandler:null,orientationHandler:null,currentInteraction:null,mouseTouchCoords:[1,1],sensors:{permission:!1,gyro:!1,orientation:!1,gyrocoords:{tilt:null,turn:null,rotate:null}},devOutput_motionEvent:null}},mounted(){document.getElementById("dieParent").addEventListener("animationend",()=>{this.DiceState.spinning=!1}),document.addEventListener("keydown",e=>{this.handleKeyDown(e)}),document.addEventListener("mousemove",e=>{if(!this.currentInteraction!="sensor"){let n=(window.innerWidth/2-e.pageX)/-5,o=(window.innerHeight/2-e.pageY)/5;this.mouseTouchCoords=[n,o],this.currentInteraction="mouse"}}),document.addEventListener("touchmove",e=>{if(this.currentInteraction!="sensor"){let n=typeof e.originalEvent>"u"?e:e.originalEvent,o=n.touches[0]||n.changedTouches[0],r=o.pageX,i=o.pageY;this.mouseTouchCoords=[r,i],this.currentInteraction="touch"}}),typeof DeviceOrientationEvent.requestPermission=="function"?this.showSensorPermissionExperience=!0:this.setMotionListeners()},methods:{handleKeyDown(t){console.log("func handleKeyDown %O",t),t.code==="Space"&&this.getRandomDieFace()},handleClick(){console.log("func handleClick()"),this.getRandomDieFace()},getRandomDieFace(){this.rollToFace(Math.floor(Math.random()*6+1))},rollToFace(t){console.log("func roll(), face: %O",t),this.DiceState.face=t,this.DiceState.spinning=!0,this.DiceState.hasRolled=!0},async setMotionListeners(){typeof DeviceOrientationEvent.requestPermission=="function"&&await DeviceOrientationEvent.requestPermission().then(t=>{t==="granted"&&(this.showSensorPermissionExperience=!1)}).catch(t=>{this.showSensorPermissionExperience=!1,console.log("Error getting sensor permission: %O",t)}),this.orientationHandler=await K.addListener("orientation",t=>{if(console.log("Device orientation event: %O",t),this.devOutput_motionEvent={x:t.alpha.toFixed(2),y:t.beta.toFixed(2),z:t.gamma.toFixed(2)},this.currentInteraction="sensor",!this.DiceState.spinning){let e=t.beta;t.alpha;let n=t.gamma;const o=e/180,r=n/90;this.DiceState.accelerometer=[o,r]}}),this.accelerationHandler=await K.addListener("accel",t=>{console.log("Device acceleration event: %O",t),this.devOutput_motionEvent={x:t.rotationRate.alpha.toFixed(2),y:t.rotationRate.beta.toFixed(2),z:t.rotationRate.gamma.toFixed(2)},this.currentInteraction="sensor",(t.rotationRate.alpha>256||t.rotationRate.beta>256||t.rotationRate.gamma>256)&&!this.DiceState.spinning&&this.getRandomDieFace()})},stopMotionListeners(){},destroyListeners(){},setMotionListenersEXPERIMENTAL(){}},computed:{css_dieShadow_BorderRadius(){return this.DiceState.spinning?"50%":"10px"},css_dieShadow_Blur(){return this.DiceState.spinning?"blur(80px)":"blur(20px)"},css_dieShadow_Transform(){return"translateZ("+(this.DiceState.spinning?"-50":"0")+"px) translate3d( 0, 0, 0)"},css_cubeTransformSpinning(){const[t,e,n]=this.Die.faces[this.DiceState.face-1].orientation;return"rotateX("+t+"deg) rotateY("+e+"deg) rotateZ("+n+"deg) translate3d( 0, 0, 0)"},css_cubeTransformStanding(){const[t,e,n]=this.Die.faces[this.DiceState.face-1].orientation;let[o,r]=[0,0];this.currentInteraction=="sensor"?(o=this.DiceState.accelerometer[0],r=this.DiceState.accelerometer[1]):(this.currentInteraction=="mouse"||this.currentInteraction=="touch")&&(o=this.mouseTouchCoords[0],r=this.mouseTouchCoords[1]);let i=40,a=.002,s=0,l=0,c=0;if(this.DiceState.face===1?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(l=t+a*(o*i),s=e+a*(r*i),c=n):this.currentInteraction=="sensor"&&(s=t+o*i,l=e+-r*i,c=n):this.DiceState.face===2?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(l=t+a*(o*i),s=e,c=n+a*(r*i)):this.currentInteraction=="sensor"&&(s=t+o*i,l=e,c=n+r*i):this.DiceState.face===3?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(s=e+a*(r*i),l=n,c=t+a*(-o*i)):this.currentInteraction=="sensor"&&(s=t+o*i,l=e+-r*i,c=n):this.DiceState.face===4?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(s=e+a*(r*i),l=n,c=t+a*(o*i)):this.currentInteraction=="sensor"&&(s=t+o*i,l=e+-r*i,c=n):this.DiceState.face===5?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(s=e,l=t+a*(o*i),c=n+a*(-r*i)):this.currentInteraction=="sensor"&&(s=t+o*40,l=e,c=n+a*(-r*i)):this.DiceState.face===6&&(this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(s=e+a*(r*i),l=t+a*(o*i),c=n):this.currentInteraction=="sensor"&&(s=t+o*i,l=e+r*i,c=n)),this.currentInteraction=="mouse"||this.currentInteraction=="sensor")return"rotateX("+s+"deg) rotateY("+l+"deg) rotateZ("+c+"deg) translate3d( 0, 0, 0)";if(this.currentInteraction=="touch")return"rotateX("+-s+"deg) rotateY("+-l+"deg) rotateZ("+c+"deg) translate3d( 0, 0, 0)"}}},X=()=>{de(t=>({"7273a9f2":t.css_dieShadow_Blur,f1608b2e:t.css_dieShadow_BorderRadius,"51a39e7e":t.css_dieShadow_Transform,"154c8057":t.css_cubeTransformStanding}))},Y=F.setup;F.setup=Y?(t,e)=>(X(),Y(t,e)):X;const Le=F,xe={class:"w-full h-full flex flex-col justify-center items-center"},Ce={key:0,class:"absolute bottom-2"},Ie={key:1,class:"w-full my-8 overflow-hidden"},Oe={class:"whitespace-nowrap"},ke={id:"dieInner",class:"cube"};function je(t,e,n,o,r,i){return E(),L("div",xe,[r.showSensorPermissionExperience?(E(),L("div",Ce,[g("div",{onClick:e[0]||(e[0]=(...a)=>i.setMotionListeners&&i.setMotionListeners(...a)),class:"p-2 bg-gray-200 cursor-pointer"},"Request Sensor Permission")])):q("",!0),r.showDevTools?(E(),L("div",Ie,[g("div",null,b(r.DiceState.spinning),1),g("div",null,b(r.devOutput_motionEvent),1),g("div",null,"Dice face: "+b(r.DiceState.face),1),g("div",null,"currentInteraction: "+b(r.currentInteraction),1),g("div",null,"Dice face: "+b(r.DiceState.face),1),g("div",null,"Dice spinning: "+b(r.DiceState.spinning),1),g("div",null,"Use bg map: "+b(r.useBGmap),1),g("div",Oe,"sensors: "+b(r.sensors.gyrocoords),1)])):q("",!0),g("div",{id:"dieParent",ref:"dieParent",onClick:e[1]||(e[1]=a=>i.handleClick()),class:G(["die cursor-pointer",[r.DiceState.spinning?"spinning":r.DiceState.hasRolled?"standing":"",{useBGmap:r.useBGmap}]])},[g("div",ke,[(E(!0),L(ue,null,fe(r.Die.faces,(a,s)=>(E(),L("div",{key:"face-"+s,class:G([a.name,r.DiceState.face===s+1||r.DiceState.spinning?"lightFacing":""]),style:me(r.useBGmap?"":"background-image: url(images/"+r.dummyImages[s]+")")},null,6))),128))])],2)])}const Te=Z(Le,[["render",je],["__scopeId","data-v-f1f3bddd"]]),Re={},Me={class:"w-full h-full flex justify-center items-center"};function Ue(t,e){const n=Te;return E(),L("div",Me,[he(n)])}const Be=Z(Re,[["render",Ue]]),He=Object.freeze(Object.defineProperty({__proto__:null,default:Be},Symbol.toStringTag,{value:"Module"}));export{N as W,He as i};
