import{l as j,m as A,a as M,r as z,p as C,q as F,s as I,o as m,b as g,e as x,F as E,v as N,x as $,u as s,i as R,t as B,y as P,z as T,A as V,f as L}from"./entry.c339f91c.js";import{_ as Z}from"./_plugin-vue_export-helper.c27b6911.js";const X={class:"w-full h-full flex flex-col justify-center items-center"},Y={id:"dieInner",class:"cube"},G=["src"],O={key:1,class:"p-2 text-2xl text-center font-bold italic uppercase"},q=j({__name:"Die",props:{Die:null,DieState:null},setup(D){const v=D;A(o=>({"1b8d90dc":s(h),"09b11753":s(p),"00bbe7d2":s(S),"1f9243a6":s(k)}));const e=M(),y=P(),_=z(!1),w=C(v.Die),r=C(v.DieState),b=[{name:"front",orientation:[0,0,0]},{name:"back",orientation:[90,0,0]},{name:"top",orientation:[0,90,0]},{name:"bottom",orientation:[0,-90,0]},{name:"left",orientation:[-90,0,0]},{name:"right",orientation:[-180,0,0]}];F(()=>{let o=document.getElementById("dieParent");o==null||o.addEventListener("animationend",()=>{r.spinning=!1})});const p=I(()=>r.spinning?"50%":"10px"),h=I(()=>r.spinning?"blur(80px)":"blur(20px)"),S=I(()=>"translateZ("+(r.spinning?"-50":"0")+"px) translate3d( 0, 0, 0)");I(()=>{const[o,i,t]=b[r.face-1].orientation;return"rotateX("+o+"deg) rotateY("+i+"deg) rotateZ("+t+"deg) translate3d( 0, 0, 0)"});const k=I(()=>{const[o,i,t]=b[r.face-1].orientation;let a=e.accelerationComputed.ax||0,f=e.accelerationComputed.ay||0,d=e.speedModifier,n=e.angleModifier,c=0,l=0,u=0;if(r.face===1?!e.currentInteraction||e.currentInteraction=="mouse"||e.currentInteraction=="touch"?(l=o+d*(a*n),c=i+d*(f*n),u=t):e.currentInteraction=="sensor"&&(c=o+a*n,l=i+-f*n,u=t):r.face===2?e.currentInteraction=="mouse"||e.currentInteraction=="touch"?(l=o+d*(a*n),c=i,u=t+d*(f*n)):e.currentInteraction=="sensor"&&(c=o+a*n,l=i,u=t+f*n):r.face===3?e.currentInteraction=="mouse"||e.currentInteraction=="touch"?(c=i+d*(f*n),l=t,u=o+d*(-a*n)):e.currentInteraction=="sensor"&&(c=o+a*n,l=i+-f*n,u=t):r.face===4?e.currentInteraction=="mouse"||e.currentInteraction=="touch"?(c=i+d*(f*n),l=t,u=o+d*(a*n)):e.currentInteraction=="sensor"&&(c=o+a*n,l=i+-f*n,u=t):r.face===5?e.currentInteraction=="mouse"||e.currentInteraction=="touch"?(c=i,l=o+d*(a*n),u=t+d*(-f*n)):e.currentInteraction=="sensor"&&(c=o+a*40,l=i,u=t+d*(-f*n)):r.face===6&&(e.currentInteraction=="mouse"||e.currentInteraction=="touch"?(c=i+d*(f*n),l=o+d*(a*n),u=t):e.currentInteraction=="sensor"&&(c=o+a*n,l=i+f*n,u=t)),!e.currentInteraction||e.currentInteraction=="mouse"||e.currentInteraction=="sensor")return"rotateX("+c+"deg) rotateY("+l+"deg) rotateZ("+u+"deg) translate3d( 0, 0, 0)";if(e.currentInteraction=="touch")return"rotateX("+-c+"deg) rotateY("+-l+"deg) rotateZ("+u+"deg) translate3d( 0, 0, 0)"});return(o,i)=>(m(),g("div",X,[x("div",{id:"dieParent",ref:"dieParent",class:$(["die cursor-pointer",[s(r).spinning?"spinning":s(r).hasRolled?"standing":"",{useBGmap:s(_)}]])},[x("div",Y,[(m(!0),g(E,null,N(s(w).images,(t,a)=>(m(),g("div",{key:"face-"+a,class:$([[b[a].name,s(r).face===a+1||s(r).spinning?"lightFacing":"",t.type=="text"?"bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-purple-800 to-violet-900 text-white":"bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-gray-100 to-gray-300 text-black"],"border-2 border-white"])},[t.type&&t.src!=""&&t.type!="text"?(m(),g("img",{key:0,src:t.type=="localStorage"?t.src:s(y).app.baseURL+"images/"+t.src,class:"relative w-full h-full object-cover object-center"},null,8,G)):R("",!0),t.type=="text"?(m(),g("span",O,B(t.src),1)):R("",!0)],2))),128))])],2)]))}});const K=Z(q,[["__scopeId","data-v-27d043e9"]]),U={class:"w-full h-full flex flex-col justify-center items-center"},H={key:0,class:"w-full my-8 overflow-hidden"},J={__name:"Dice",setup(D){const{$listen:v}=T(),e=M(),y=z(!1),_=C({face:1,spinning:!1,hasRolled:!1});F(()=>{v("deviceShaken",p=>{_.spinning||r()}),document.addEventListener("keydown",p=>{w(p)})});function w(p){p.code==="Space"&&r()}function r(){let p=e.dice[e.currentDie].images.length;b(Math.floor(Math.random()*p+1))}function b(p){_.face=p,_.spinning=!0,_.hasRolled=!0}return(p,h)=>{const S=K;return m(),g("div",U,[s(y)?(m(),g("div",H,[x("div",null,"Dice face: "+B(s(_).face),1),x("div",null,"Dice spinning: "+B(s(_).spinning),1)])):R("",!0),x("div",{id:"buttonRoll",class:"absolute mb-6",style:V("bottom:"+(s(e).safeAreaInset.bottom+s(e).safeAreaPadding)+"px")},[x("div",{onClick:h[0]||(h[0]=k=>r()),class:"p-4 px-8 rounded-full bg-white hover:bg-gray-100 text-teal-800 hover:scale-105 transition cursor-pointer"},"ROLL")],4),L(S,{Die:s(e).dice[s(e).currentDie],DieState:s(_),onClick:h[1]||(h[1]=k=>r())},null,8,["Die","DieState"])])}}},Q={class:"w-full h-full flex justify-center items-center"},te={__name:"index",setup(D){return(v,e)=>{const y=J;return m(),g("div",Q,[L(y)])}}};export{te as default};
