import{a as v,o as d,b as h,r as I,f as x,e as i,h as u,t as f,i as m,j as p,p as B,k as w,l as G,m as b,q as _,w as k,s as C}from"./entry.dd8b3581.js";import{_ as T}from"./app.config.27695f92.js";const j={};function E(e,n){return d(),h("span",null,[I(e.$slots,"default")])}const V=v(j,[["render",E]]);const g={name:"Dice",props:{},components:{},data(){return{useBGmap:!1,currentInteraction:null,sensors:{gyro:!1,orientation:!1},DiceState:{face:6,spinning:!1,accelerometer:[.3,.25],hasRolled:!1},faceViews:[[0,0,0],[90,0,0],[0,90,0],[0,-90,0],[-90,0,0],[-180,0,0]],dummyImages:["dummy-400x400-BodyLanguage.jpg","dummy-400x400-CharlesBaudelaire.jpg","dummy-400x400-Eye.jpg","dummy-400x400-HappyBoy.jpg","dummy-400x400-Headphone.jpg","dummy-400x400-TShirt.jpg"],mouseTouchCoords:[0,0]}},mounted(){if(document.addEventListener("keydown",e=>{this.handleKeyDown(e)}),document.addEventListener("mousemove",e=>{let n=(window.innerWidth/2-e.pageX)/-5,s=(window.innerHeight/2-e.pageY)/5;this.mouseTouchCoords=[n,s],this.currentInteraction="mouse"}),document.addEventListener("touchmove",e=>{let n=typeof e.originalEvent>"u"?e:e.originalEvent,s=n.touches[0]||n.changedTouches[0],o=s.pageX,t=s.pageY;this.mouseTouchCoords=[o,t],this.currentInteraction="touch"}),window.RelativeOrientationSensor){const e=new window.RelativeOrientationSensor({frequency:60,referenceFrame:"screen"});this.sensors.orientation=!0,e.addEventListener("reading",()=>{console.log("orientationSensor reading"),this.DiceState.spinning||(this.currentInteraction="sensor",this.DiceState.accelerometer=e.quaternion.map((n,s)=>{if(s<2)return Math.round(n*1e3*1e3)/(1e3*1e3)}))}),e.start()}if(window.Gyroscope){const e=new Gyroscope({frequency:60});this.sensors.gyro=!0,e.addEventListener("reading",()=>{console.log("gyroscope reading"),(e.x>9||e.z>4)&&!this.DiceState.spinning&&this.random()}),e.start()}},methods:{handleKeyDown(e){console.log("func handleKeyDown %O",e),e.code==="Space"&&this.random()},handleClick(){console.log("func handleClick()"),this.random()},random(){console.log("func random()"),this.roll(Math.floor(Math.random()*6+1))},roll(e){console.log("func roll(), face: %O",e),this.DiceState.face=e,this.DiceState.spinning=!0,this.DiceState.hasRolled=!0,setTimeout(()=>{this.DiceState.spinning=!1},2e3)},getRandom(e,n){return(Math.floor(Math.random()*(e-n))+n)*90}},computed:{diceBG_BorderRadius(){return this.DiceState.spinning?"50%":"10px"},diceBG_Shadow(){return this.DiceState.spinning?"blur(80px)":"blur(20px)"},diceBG_transform(){return"translateZ("+(this.DiceState.spinning?"-50":"0")+"px) translate3d( 0, 0, 0)"},cubeTransformSpinning(){const[e,n,s]=this.faceViews[this.DiceState.face-1];return"rotateX("+e+"deg) rotateY("+n+"deg) rotateZ("+s+"deg) translate3d( 0, 0, 0)"},cubeTransformPerspective(){const[e,n,s]=this.faceViews[this.DiceState.face-1],[o,t]=this.currentInteraction=="sensor"?this.DiceState.accelerometer:this.mouseTouchCoords;let r=.009,c=0,a=0,l=0;if(this.DiceState.face===1?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(a=e+r*(o*40),c=n+r*(t*40),l=s):this.currentInteraction=="sensor"&&(c=e+o*40,a=n+-t*40,l=s):this.DiceState.face===2?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(a=e+r*(o*40),c=n,l=s+r*(t*40)):this.currentInteraction=="sensor"&&(c=e+o*40,a=n,l=s+t*40):this.DiceState.face===3?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(c=n+r*(t*40),a=s,l=e+r*(-o*40)):this.currentInteraction=="sensor"&&(c=e+o*40,a=n+-t*40,l=s):this.DiceState.face===4?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(c=n+r*(t*40),a=s,l=e+r*(o*40)):this.currentInteraction=="sensor"&&(c=e+o*40,a=n+-t*40,l=s):this.DiceState.face===5?this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(c=n,a=e+r*(o*40),l=s+r*(-t*40)):this.currentInteraction=="sensor"&&(c=e+o*40,a=n,l=s+r*(-t*40)):this.DiceState.face===6&&(this.currentInteraction=="mouse"||this.currentInteraction=="touch"?(c=n+r*(t*40),a=e+r*(o*40),l=s):this.currentInteraction=="sensor"&&(c=e+o*40,a=n+t*40,l=s)),this.currentInteraction=="mouse"||this.currentInteraction=="sensor")return"rotateX("+c+"deg) rotateY("+a+"deg) rotateZ("+l+"deg) translate3d( 0, 0, 0)";if(this.currentInteraction=="touch")return"rotateX("+-c+"deg) rotateY("+-a+"deg) rotateZ("+l+"deg) translate3d( 0, 0, 0)"}}},y=()=>{x(e=>({"05ed3491":e.diceBG_Shadow,"1d1b9e8f":e.diceBG_BorderRadius,"288de30a":e.diceBG_transform,"2b62f3ab":e.cubeTransformSpinning,"527f4e67":e.cubeTransformPerspective}))},S=g.setup;g.setup=S?(e,n)=>(y(),S(e,n)):y;const R=g,D=e=>(B("data-v-9f69a838"),e=e(),w(),e),F=D(()=>i("h1",null,"Shake your phone!",-1)),z=D(()=>i("p",null,"Or touch the dice",-1)),L=[F,z],M={class:"my-8 overflow-hidden"},O={key:0,class:"front filler"},N={key:1,class:"back filler"},X={key:2,class:"top filler"},Y={key:3,class:"bottom filler"},q={key:4,class:"left filler"},A={key:5,class:"right filler"};function Z(e,n,s,o,t,r){return d(),h("div",{onClick:n[0]||(n[0]=c=>r.handleClick()),class:"w-full h-full flex flex-col justify-center items-center"},[i("div",{class:u([t.DiceState.hasRolled?"":"enabled","helper"])},L,2),i("div",M,[i("div",null,"Dice face: "+f(t.DiceState.face),1),i("div",null,"Dice spinning: "+f(t.DiceState.spinning),1),i("div",null,"Use bg map: "+f(t.useBGmap),1),i("div",null,"currentInteraction: "+f(t.currentInteraction),1),i("div",null,"sensors: "+f(t.sensors),1)]),i("div",{class:u(["dice",{useBGmap:t.useBGmap}])},[i("div",{class:u([t.DiceState.spinning?"spin":"perspective","cube"])},[i("div",{class:u([t.DiceState.face===1||t.DiceState.spinning?"lightFacing":"","front"]),style:m(t.useBGmap?"":"background-image: url(images/"+t.dummyImages[1-1]+")")},null,6),t.useBGmap?(d(),h("div",O)):p("",!0),i("div",{class:u([t.DiceState.face===6||t.DiceState.spinning?"lightFacing":"","back"]),style:m(t.useBGmap?"":"background-image: url(images/"+t.dummyImages[6-1]+")")},null,6),t.useBGmap?(d(),h("div",N)):p("",!0),i("div",{class:u([t.DiceState.face===5||t.DiceState.spinning?"lightFacing":"","top"]),style:m(t.useBGmap?"":"background-image: url(images/"+t.dummyImages[5-1]+")")},null,6),t.useBGmap?(d(),h("div",X)):p("",!0),i("div",{class:u([t.DiceState.face===2||t.DiceState.spinning?"lightFacing":"","bottom"]),style:m(t.useBGmap?"":"background-image: url(images/"+t.dummyImages[2-1]+")")},null,6),t.useBGmap?(d(),h("div",Y)):p("",!0),i("div",{class:u([t.DiceState.face===3||t.DiceState.spinning?"lightFacing":"","left"]),style:m(t.useBGmap?"":"background-image: url(images/"+t.dummyImages[3-1]+")")},null,6),t.useBGmap?(d(),h("div",q)):p("",!0),i("div",{class:u([t.DiceState.face===4||t.DiceState.spinning?"lightFacing":"","right"]),style:m(t.useBGmap?"":"background-image: url(images/"+t.dummyImages[4-1]+")")},null,6),t.useBGmap?(d(),h("div",A)):p("",!0)],2)],2)])}const H=v(R,[["render",Z],["__scopeId","data-v-9f69a838"]]);function K(){const e=G();return e._appConfig||(e._appConfig=b(T)),e._appConfig}const P={class:"w-full h-full flex flex-col justify-center items-center"},W=i("h1",{class:"text-3xl font-bold underline"},"Welcome to the homepage",-1),Q={__name:"index",setup(e){return K(),(n,s)=>{const o=V,t=H;return d(),h("div",P,[W,_(o,null,{default:k(()=>[C(" This is an auto-imported component. ")]),_:1}),_(t)])}}};export{Q as default};
